<!DOCTYPE html><html><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><link rel="preload" href="/component---src-layouts-index-tsx-586e24d071056c67630d.js" as="script"/><link rel="preload" href="/component---src-templates-post-tsx-c8f66be2f50942207738.js" as="script"/><link rel="preload" href="/path---monads-491a7b4ca49db633d985.js" as="script"/><link rel="preload" href="/app-ca0dea81e8e035d87309.js" as="script"/><link rel="preload" href="/commons-a4508e8b006a525c8fb0.js" as="script"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><title data-react-helmet="true"></title><meta data-react-helmet="true" name="description" content="You’ve heard about them many times, but still not sure if you need them? Or maybe you use them every day and happy with it? In any case, you do not want to miss a chance to discuss them one more time. If it is so, let’s begin! Introduction First of…"/><meta data-react-helmet="true" name="image" content="https://victoriaz.netlify.com/undefined"/><meta data-react-helmet="true" property="og:url" content="https://victoriaz.netlify.com///monads"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" property="og:title" content="What are they, monads, angels or demons?"/><meta data-react-helmet="true" property="og:description" content="You’ve heard about them many times, but still not sure if you need them? Or maybe you use them every day and happy with it? In any case, you do not want to miss a chance to discuss them one more time. If it is so, let’s begin! Introduction First of…"/><meta data-react-helmet="true" property="og:image" content="https://victoriaz.netlify.com/undefined"/><meta data-react-helmet="true" property="fb:app_id" content=""/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:creator" content=""/><meta data-react-helmet="true" name="twitter:title" content="What are they, monads, angels or demons?"/><meta data-react-helmet="true" name="twitter:description" content="You’ve heard about them many times, but still not sure if you need them? Or maybe you use them every day and happy with it? In any case, you do not want to miss a chance to discuss them one more time. If it is so, let’s begin! Introduction First of…"/><meta data-react-helmet="true" name="twitter:image" content="https://victoriaz.netlify.com/undefined"/><script data-react-helmet="true" type="application/ld+json">[{"@context":"http://schema.org","@type":"WebSite","url":"https://victoriaz.netlify.com//","name":"What are they, monads, angels or demons?","alternateName":""},[{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https://victoriaz.netlify.com///monads","name":"What are they, monads, angels or demons?","image":"https://victoriaz.netlify.com/undefined"}}]},{"@context":"http://schema.org","@type":"BlogPosting","url":"https://victoriaz.netlify.com//","name":"What are they, monads, angels or demons?","alternateName":"","headline":"What are they, monads, angels or demons?","image":{"@type":"ImageObject","url":"https://victoriaz.netlify.com/undefined"},"description":"You’ve heard about them many times, but still not sure if you need them? Or maybe you use them every day and happy with it? In any case, you do not want to miss a chance to discuss them one more time. If it is so, let’s begin! Introduction First of…"}]]</script><style type="text/css">
    .anchor {
      float: left;
      padding-right: 4px;
      margin-left: -20px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var offset = element.offsetTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link rel="manifest" href="/manifest.json"/><meta name="theme-color" content="#fff"/><style id="gatsby-inlined-css">@import url(https://cdn.jsdelivr.net/npm/instantsearch.css@7.0.0/themes/reset-min.css);@import url(https://fonts.googleapis.com/css?family=Share+Tech+Mono);@import url(https://fonts.googleapis.com/css?family=Cutive+Mono);.blur{filter:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg"><filter id="filter"><feGaussianBlur stdDeviation="10" /></filter></svg>#filter');filter:blur(10px);-webkit-filter:blur(10px)}:focus{outline:none}/*! normalize.css v8.0.0 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}[hidden],template{display:none}code[class*=language-],pre[class*=language-]{color:#fff;font-family:Consolas,Bitstream Vera Sans Mono,Courier New,Courier,monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:.95em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-]::-moz-selection,code[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection{background:#6c6c6d}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{background:#c1def1}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border:1px solid #333;background-color:#333}:not(pre)>code[class*=language-]{padding:.2em;padding-top:1px;padding-bottom:1px;background:#f8f8f8;border:1px solid #ddd}.token.comment{color:#a8a57b}.token.cdata,.token.doctype,.token.prolog{color:green;font-style:italic}.token.namespace{opacity:.7}.token.string{color:#a31515}.token.operator,.token.punctuation{color:#a53b93}.token.boolean,.token.constant,.token.inserted,.token.number,.token.symbol,.token.url,.token.variable{color:#36acaa}.language-autohotkey .token.selector,.language-json .token.boolean,.language-json .token.number,.token.atrule,.token.attr-value,.token.keyword,code[class*=language-css]{color:#00ad09}.token.function{color:#393a34}.language-autohotkey .token.tag,.token.deleted{color:#9a050f}.language-autohotkey .token.keyword,.token.selector{color:#00009f}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.language-json .token.property,.token.class-name{color:#2b91af}.token.selector,.token.tag{color:maroon}.token.attr-name,.token.entity,.token.property,.token.regex{color:red}.token.directive.tag .tag{background:#ff0;color:#393a34}.line-numbers .line-numbers-rows{border-right-color:#a5a5a5}.line-numbers-rows>span:before{color:#2b91af}.line-highlight{background:rgba(193,222,241,.2);background:linear-gradient(90deg,rgba(193,222,241,.2) 70%,rgba(221,222,241,0))}a{text-decoration:none}a,a:link{color:#0b6623}a:hover{color:#000}.image{box-shadow:5px 5px 13px #000,20px 20px #0b6623}body{background-color:#fff}.expand{margin-left:"auto";animation:spinup .5s linear forwards}.expandOpen{margin-left:"auto";animation:spindown .5s linear forwards}@keyframes spinup{50%{transform:rotate(90deg)}to{transform:rotate(180deg)}}@keyframes spindown{0%{transform:rotate(180deg)}50%{transform:rotate(90deg)}to{transform:rotate(0deg)}}.underline1{background:transparent;position:relative;display:inline-block;text-decoration:underline;-webkit-text-decoration-color:#7fdbff;text-decoration-color:#7fdbff;z-index:1}.underline1:before{content:"";position:absolute;display:inline-block;background:#7fdbff;width:100%;border-radius:5px;bottom:0;z-index:-1}.underline1:focus:before,.underline1:hover:before{animation:.5s forwards hover-v linear;animation-fill-mode:forwards}@keyframes hover-v{0%{transform:scaleX(0);height:1rem}45%{transform:scaleX(1.05);height:2rem}55%{height:2.3rem}to{transform:scaleX(1.05);height:2.5rem}}.underline{background-color:transparent;text-decoration:none;transition:background .15s cubic-bezier(.33,.66,.66,1);border-bottom:3px solid #b4e7f8;box-shadow:inset 0 -4px 0 #b4e7f8;word-break:break-word;word-wrap:break-word}.underline:hover{background-color:#b4e7f8;color:#000}.underline:after,.underline:before{box-sizing:border-box}::-moz-selection{background:#b4e7f8}::selection{background:#b4e7f8}.underline:-webkit-any-link{cursor:pointer}</style></head><body><div id="___gatsby"><div data-reactroot="" data-reactid="1" data-react-checksum="-1919246739"><!-- react-empty: 2 --><div class="layouts__Default-s12gpxii-1 hNUXlZ" data-reactid="3"><div class="header__Header-bnmt84-1 iCMUwK" data-reactid="4"><img class="header__Plane-bnmt84-0 dzrcmZ" src="./img/Flying_Herk_in_the_Clouds.svg" data-reactid="5"/><h2 class="jss1220 jss1226 jss1240 jss1237 header__Title-bnmt84-2 eKHSUq" data-reactid="6"><a class="header__BlogLink-bnmt84-4 dGUCvB" href="https://victoriaz.netlify.com/" data-reactid="7"><div class="header__ResizesTitle-bnmt84-3 xNOpy" data-reactid="8">VictoriaZ programming sketches</div></a></h2><img class="header__Flock-bnmt84-5 hDiEQS" src="./img/flock-grey.png" alt="flock" data-reactid="9"/></div><div class="sidebar__Sidebar-s1j2sjxv-0 cpqdmZ" data-reactid="10"><div class="jss1244 jss1248 jss1245 navigation__Navigation-jp8mz3-0 CKreI" data-reactid="11"><ul class="jss1271 jss1272" role="menu" data-reactid="12"><a tabindex="-1" href="/" data-reactid="13"><li tabindex="-1" class="jss1287 jss1277 jss1280 jss1284 jss1285 jss1275" role="menuitem" data-reactid="14"><!-- react-text: 15 -->Home<!-- /react-text --><span class="jss1290" data-reactid="16"></span></li></a><a tabindex="-1" href="/about" data-reactid="17"><li tabindex="-1" class="jss1287 jss1277 jss1280 jss1284 jss1285 jss1275" role="menuitem" data-reactid="18"><!-- react-text: 19 -->About me<!-- /react-text --><span class="jss1290" data-reactid="20"></span></li></a><a tabindex="-1" href="/tags" data-reactid="21"><li tabindex="-1" class="jss1287 jss1277 jss1280 jss1284 jss1285 jss1275" role="menuitem" data-reactid="22"><!-- react-text: 23 -->Tags<!-- /react-text --><span class="jss1290" data-reactid="24"></span></li></a><a tabindex="-1" href="/repositories" data-reactid="25"><li tabindex="-1" class="jss1287 jss1277 jss1280 jss1284 jss1285 jss1275" role="menuitem" data-reactid="26"><!-- react-text: 27 -->Repositories<!-- /react-text --><span class="jss1290" data-reactid="28"></span></li></a></ul><div class="ais-InstantSearch__root" data-reactid="29"><div class="instantSearch__Container-qkiem3-0 eyVhqa" data-reactid="30"><div class="jss1297" style="width:80%;" data-reactid="31"><label class="jss1306 jss1301 jss1302 jss1305" data-shrink="false" for="search" data-reactid="32"><!-- react-text: 33 -->Search field<!-- /react-text --></label><div class="jss1312 jss1313 jss1316" data-reactid="34"><input type="search" aria-invalid="false" aria-required="false" class="jss1320 jss1324 jss1325" id="search" value="" data-reactid="35"/></div></div><div class="ais-Hits instantSearch__ResultsContainer-qkiem3-1 ZGQhv" data-reactid="36"><ul class="ais-Hits-list" data-reactid="37"></ul></div></div></div></div></div><div class="layouts__Content-s12gpxii-0 dQAcrN" data-reactid="38"><div class="post__BlogPost-gix2jd-0 eVJyLr" data-reactid="39"><div id="fb-root" data-reactid="40"></div><!-- react-empty: 41 --><!-- react-empty: 42 --><div class=" gatsby-image-outer-wrapper" style="position:relative;" data-reactid="43"><div class="image post__Image-gix2jd-1 fIVVAU gatsby-image-wrapper" style="position:relative;overflow:hidden;" data-reactid="44"><div style="width:100%;padding-bottom:66.66666666666667%;" data-reactid="45"></div><img alt="angels" src="data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAQD/8QAFAEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAABqkyDshJ//8QAGRABAAMBAQAAAAAAAAAAAAAAAgABAxES/9oACAEBAAEFAs86zzdV7QEya43ajvi//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGhAAAgIDAAAAAAAAAAAAAAAAAAERIgIQIf/aAAgBAQAGPwKpGSKpQPpD1//EABoQAAMBAAMAAAAAAAAAAAAAAAABESFBUWH/2gAIAQEAAT8hxFPN9G0TSl1lSjjogBy+Mgj/2gAMAwEAAgADAAAAEOAf/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAERIf/aAAgBAwEBPxB6Vn//xAAXEQEBAQEAAAAAAAAAAAAAAAABABEh/9oACAECAQE/EDjYX//EABoQAQEBAAMBAAAAAAAAAAAAAAERACExYVH/2gAIAQEAAT8QUh9P0snAAjSvd0tAOqvuExosPNFiSRnJmTcBxd//2Q==" style="position:absolute;top:0;left:0;transition:opacity 0.5s;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:0.25s;" data-reactid="46"/><noscript data-reactid="47"><img width="" height="" src="/static/angels-71fd93802e808f68539b129ed2d22822-d447e.jpg" srcset="/static/angels-71fd93802e808f68539b129ed2d22822-eed67.jpg 475w,
/static/angels-71fd93802e808f68539b129ed2d22822-f26f9.jpg 950w,
/static/angels-71fd93802e808f68539b129ed2d22822-d447e.jpg 1900w,
/static/angels-71fd93802e808f68539b129ed2d22822-3d50f.jpg 1920w" alt="angels" title="" sizes="(max-width: 1900px) 100vw, 1900px" style="position:absolute;top:0;left:0;transition:opacity 0.5s;transition-delay:0.5s;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></noscript></div></div><div class="postHeader__PostHeader-gjhwgt-0 dflWXr" data-reactid="48"><h1 class="jss1220 jss1224 postHeader__Title-gjhwgt-1 eNFeOB" data-reactid="49"><a href="/monads" data-reactid="50"><span class="postHeader__ResizedTitle-gjhwgt-2 bhBSVn" data-reactid="51">What are they, monads, angels or demons?</span></a></h1><span class="jss1220 jss1230 postHeader__Date-gjhwgt-3 dvOFpo" data-reactid="52">March 26, 2018</span><div class="tagsLine__TagLine-s10dgrgb-0 iovFoW" data-reactid="53"><a class="tagsLine__Tag-s10dgrgb-1 bxYUos" href="/tags/monads/" data-reactid="54"><button tabindex="0" class="jss1287 jss1326 jss1328" type="button" data-reactid="55"><span class="jss1327" data-reactid="56"><span class="jss1220 jss1230 jss1240" data-reactid="57">monads</span></span><span class="jss1290" data-reactid="58"></span></button></a><a class="tagsLine__Tag-s10dgrgb-1 bxYUos" href="/tags/scala/" data-reactid="59"><button tabindex="0" class="jss1287 jss1326 jss1328" type="button" data-reactid="60"><span class="jss1327" data-reactid="61"><span class="jss1220 jss1230 jss1240" data-reactid="62">Scala</span></span><span class="jss1290" data-reactid="63"></span></button></a></div></div><div class="jss1341" data-reactid="64"><div class="shareButtons__Container-uz179j-0 eRRfkf" aria-describedby="tooltip-top-start" data-reactid="65"><div class="shareButtons__ShareButton-uz179j-1 lbbedt" data-reactid="66"><div role="button" tabindex="0" class="SocialMediaShareButton SocialMediaShareButton--facebook social-share-button" data-reactid="67"><div style="width:32px;height:32px;" data-reactid="68"><svg viewBox="0 0 64 64" width="32" height="32" class="social-icon social-icon--facebook " data-reactid="69"><g data-reactid="70"><circle cx="32" cy="32" r="31" fill="#3b5998" data-reactid="71"></circle></g><g data-reactid="72"><path d="M34.1,47V33.3h4.6l0.7-5.3h-5.3v-3.4c0-1.5,0.4-2.6,2.6-2.6l2.8,0v-4.8c-0.5-0.1-2.2-0.2-4.1-0.2 c-4.1,0-6.9,2.5-6.9,7V28H24v5.3h4.6V47H34.1z" fill="white" data-reactid="73"></path></g></svg></div></div></div><div class="shareButtons__ShareButton-uz179j-1 lbbedt" data-reactid="74"><div role="button" tabindex="0" class="SocialMediaShareButton SocialMediaShareButton--twitter social-share-button" data-reactid="75"><div style="width:32px;height:32px;" data-reactid="76"><svg viewBox="0 0 64 64" width="32" height="32" class="social-icon social-icon--twitter " data-reactid="77"><g data-reactid="78"><circle cx="32" cy="32" r="31" fill="#00aced" data-reactid="79"></circle></g><g data-reactid="80"><path d="M48,22.1c-1.2,0.5-2.4,0.9-3.8,1c1.4-0.8,2.4-2.1,2.9-3.6c-1.3,0.8-2.7,1.3-4.2,1.6 C41.7,19.8,40,19,38.2,19c-3.6,0-6.6,2.9-6.6,6.6c0,0.5,0.1,1,0.2,1.5c-5.5-0.3-10.3-2.9-13.5-6.9c-0.6,1-0.9,2.1-0.9,3.3 c0,2.3,1.2,4.3,2.9,5.5c-1.1,0-2.1-0.3-3-0.8c0,0,0,0.1,0,0.1c0,3.2,2.3,5.8,5.3,6.4c-0.6,0.1-1.1,0.2-1.7,0.2c-0.4,0-0.8,0-1.2-0.1 c0.8,2.6,3.3,4.5,6.1,4.6c-2.2,1.8-5.1,2.8-8.2,2.8c-0.5,0-1.1,0-1.6-0.1c2.9,1.9,6.4,2.9,10.1,2.9c12.1,0,18.7-10,18.7-18.7 c0-0.3,0-0.6,0-0.8C46,24.5,47.1,23.4,48,22.1z" fill="white" data-reactid="81"></path></g></svg></div></div></div><div class="shareButtons__ShareButton-uz179j-1 lbbedt" data-reactid="82"><div role="button" tabindex="0" class="SocialMediaShareButton SocialMediaShareButton--googlePlus social-share-button" data-reactid="83"><div style="width:32px;height:32px;" data-reactid="84"><svg viewBox="0 0 64 64" width="32" height="32" class="social-icon social-icon--google " data-reactid="85"><g data-reactid="86"><circle cx="32" cy="32" r="31" fill="#dd4b39" data-reactid="87"></circle></g><g data-reactid="88"><path d="M25.3,30.1v3.8h6.3c-0.3,1.6-1.9,4.8-6.3,4.8c-3.8,0-6.9-3.1-6.9-7s3.1-7,6.9-7c2.2,0,3.6,0.9,4.4,1.7l3-2.9c-1.9-1.8-4.4-2.9-7.4-2.9c-6.1,0-11.1,5-11.1,11.1s5,11.1,11.1,11.1c6.4,0,10.7-4.5,10.7-10.9c0-0.7-0.1-1.3-0.2-1.8H25.3L25.3,30.1z M49.8,28.9h-3.2v-3.2h-3.2v3.2h-3.2v3.2h3.2v3.2h3.2v-3.2h3.2" fill="white" data-reactid="89"></path></g></svg></div></div></div><div class="shareButtons__ShareButton-uz179j-1 lbbedt" data-reactid="90"><div role="button" tabindex="0" class="SocialMediaShareButton SocialMediaShareButton--linkedin social-share-button" data-reactid="91"><div style="width:32px;height:32px;" data-reactid="92"><svg viewBox="0 0 64 64" width="32" height="32" class="social-icon social-icon--linkedin " data-reactid="93"><g data-reactid="94"><circle cx="32" cy="32" r="31" fill="#007fb1" data-reactid="95"></circle></g><g data-reactid="96"><path d="M20.4,44h5.4V26.6h-5.4V44z M23.1,18c-1.7,0-3.1,1.4-3.1,3.1c0,1.7,1.4,3.1,3.1,3.1 c1.7,0,3.1-1.4,3.1-3.1C26.2,19.4,24.8,18,23.1,18z M39.5,26.2c-2.6,0-4.4,1.4-5.1,2.8h-0.1v-2.4h-5.2V44h5.4v-8.6 c0-2.3,0.4-4.5,3.2-4.5c2.8,0,2.8,2.6,2.8,4.6V44H46v-9.5C46,29.8,45,26.2,39.5,26.2z" fill="white" data-reactid="97"></path></g></svg></div></div></div></div><div style="position:absolute;pointer-events:none;opacity:0;top:0;left:0;" class="jss1342 jss1343" data-reactid="98"><div id="tooltip-top-start" role="tooltip" aria-hidden="true" class="jss1344 jss1347" data-reactid="99">Share</div></div></div><aside class="jss1220 jss1228 inner-text post__Text-gix2jd-2 jkcuui" id="text" data-reactid="100"><p>You’ve heard about them many times, but still not sure if you need them? Or maybe you use them every day and happy with it? In any case, you do not want to miss a chance to discuss them one more time. If it is so, let’s begin!</p>
<h2 id="introduction"><a href="#introduction" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Introduction</h2>
<p>First of all I’ll remind you how they look like.</p>
<div class="gatsby-highlight">
      <pre class="language-scalascala"><code class="language-scalascala"><span class="token keyword">trait</span> Monad<span class="token punctuation">[</span>F<span class="token punctuation">[</span>_<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>

  <span class="token keyword">def</span> flatMap<span class="token punctuation">[</span>A<span class="token punctuation">,</span> B<span class="token punctuation">]</span><span class="token punctuation">(</span>fa<span class="token operator">:</span> F<span class="token punctuation">[</span>A<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">(</span>f<span class="token operator">:</span> A <span class="token keyword">=></span> F<span class="token punctuation">[</span>B<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> F<span class="token punctuation">[</span>B<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">?</span><span class="token operator">?</span><span class="token operator">?</span>
  
  <span class="token keyword">def</span> pure<span class="token punctuation">[</span>A<span class="token punctuation">]</span><span class="token punctuation">(</span>x<span class="token operator">:</span> A<span class="token punctuation">)</span><span class="token operator">:</span> F<span class="token punctuation">[</span>A<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">?</span><span class="token operator">?</span><span class="token operator">?</span>

<span class="token punctuation">}</span>
</code></pre>
      </div>
<p>!!!Monad laws</p>
<p>Misterious, aren’t they?..</p>
<p>No, they are not! You must be hit on them several times a day. When you do like this:</p>
<div class="gatsby-highlight">
      <pre class="language-scalascala"><code class="language-scalascala"><span class="token keyword">import</span> scala<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span>Future
<span class="token keyword">import</span> scala<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span>ExecutionContext<span class="token punctuation">.</span>Implicits<span class="token punctuation">.</span>global

<span class="token keyword">def</span> queryFromDatabase<span class="token operator">:</span> List<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">?</span><span class="token operator">?</span><span class="token operator">?</span>

<span class="token keyword">def</span> nextQueryFromDatabase<span class="token operator">:</span> List<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">?</span><span class="token operator">?</span><span class="token operator">?</span>

<span class="token keyword">for</span><span class="token punctuation">{</span>

  firstResult <span class="token keyword">&lt;-</span> Future<span class="token punctuation">(</span>queryFromDatabase<span class="token punctuation">)</span>
  
  secondResult <span class="token keyword">&lt;-</span> Future<span class="token punctuation">(</span>nextQueryFromDatabase<span class="token punctuation">)</span>
  
<span class="token punctuation">}</span><span class="token keyword">yield</span><span class="token punctuation">(</span>firstResult <span class="token operator">:</span><span class="token operator">:</span> secondResult<span class="token punctuation">)</span>
</code></pre>
      </div>
<p>Or like this:</p>
<div class="gatsby-highlight">
      <pre class="language-scalascala"><code class="language-scalascala">  <span class="token keyword">val</span> listFirst <span class="token operator">=</span> List<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>

  <span class="token keyword">val</span> listSecond <span class="token operator">=</span> List<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span>

listFirst<span class="token punctuation">.</span>flatMap<span class="token punctuation">{</span> valueFirst <span class="token keyword">=></span> listSecond<span class="token punctuation">.</span>map <span class="token punctuation">{</span> valueSecond <span class="token keyword">=></span> valueFirst <span class="token operator">+</span> valueSecond <span class="token punctuation">}</span> <span class="token punctuation">}</span>
</code></pre>
      </div>
<p>Nothing special, to be honest. But why are there generated so much buzz around them? Some people love them, some - hate them. Come on, they are simple lists, futures, options and nothing more!</p>
<p>Yes and no. Look here.</p>
<p>We can write code without monads at all. And there is nothing wrong with it, just another way to express your thoughts.</p>
<p>But notice, if the error occures, the program will crash and it is not a good user experience.</p>
<div class="gatsby-highlight">
      <pre class="language-scalascala"><code class="language-scalascala"><span class="token keyword">def</span> queryFromDatabase<span class="token operator">:</span> List<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">?</span><span class="token operator">?</span><span class="token operator">?</span>

<span class="token keyword">def</span> nextQueryFromDatabase<span class="token operator">:</span> List<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">?</span><span class="token operator">?</span><span class="token operator">?</span>

<span class="token keyword">val</span> firstResult <span class="token operator">=</span> queryFromDatabase

<span class="token keyword">val</span> secondResult <span class="token operator">=</span> nextQueryFromDatabase

<span class="token keyword">val</span> result <span class="token operator">=</span> <span class="token keyword">if</span><span class="token punctuation">(</span> firstResult <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span> secondResult <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>
    
    firstResult <span class="token operator">:</span><span class="token operator">:</span> secondResult
    
  <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
  <span class="token comment">// Attention! The program will throw an error.</span>
    <span class="token keyword">throw</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  
<span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
  <span class="token keyword">throw</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
      </div>
<p>We can get rid of flat map in the second case too. Just loop over each of the lists and sum the numbers. </p>
<div class="gatsby-highlight">
      <pre class="language-scalascala"><code class="language-scalascala"><span class="token keyword">val</span> listFirst <span class="token operator">=</span> List<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>

<span class="token keyword">val</span> listSecond <span class="token operator">=</span> List<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span>

<span class="token comment">// Attention! Mutable value.</span>
<span class="token keyword">var</span> result<span class="token operator">:</span> List<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span> <span class="token operator">=</span> List<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">for</span><span class="token punctuation">(</span>i <span class="token keyword">&lt;-</span> listFirst<span class="token punctuation">)</span><span class="token punctuation">{</span>

  <span class="token keyword">for</span><span class="token punctuation">(</span>j <span class="token keyword">&lt;-</span> listSecond<span class="token punctuation">)</span><span class="token punctuation">{</span>

    <span class="token punctuation">(</span>i <span class="token operator">+</span> j<span class="token punctuation">)</span><span class="token operator">:</span><span class="token operator">:</span>result

  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
      </div>
<p>Now it is hard to reason about the code. Somebody can change the state of the variable unintentionally, for example, on an another thread, and we will get a wrong result.</p>
<p>So, what do you think? It seems pretty obvious, that flatMap is a more consice and clever way to code. Is that all? Just a clear syntax? No, it isn’t.</p>
<p>Let’s elaborate. In both cases we had to use some unsafe technique: throw an error or use a mutable value. And a monad helped us to eliminate this. A monad can modify the value, isolating it from outside world in a container.</p>
<p>There are quite a few problems we can solve with monads. I won’t list them myself, but I will cite Bartosz Milewski’s great <a href="https://bartoszmilewski.com/2016/11/30/monads-and-effects/">article</a>:</p>
<blockquote>
<p>Here is a short list of similar problems, copied from <a href="https://core.ac.uk/download/pdf/21173011.pdf">Eugenio Moggi’s seminal paper</a>, all of which are traditionally solved by abandoning the purity of functions.</p>
<ol>
<li>Partiality: Computations that may not terminate</li>
<li>Nondeterminism: Computations that may return many results</li>
<li>Side effects: Computations that access/modify state
a. Read-only state, or the environment
b. Write-only state, or a log
c. Read/write state</li>
<li>Exceptions: Partial functions that may fail</li>
<li>Continuations: Ability to save state of the program and then restore it on demand</li>
<li>Interactive Input</li>
<li>Interactive Output</li>
</ol>
<p>What really is mind blowing is that all these problems may be solved using the same clever trick: turning to embellished functions <em>(monads, mine note)</em>.</p>
</blockquote>
<p>Thus, we can solve several important problems in two ways. Traditional one is cumbersome and unsafe. Monadic one respects explicitness and clarity. </p>
<p>More on the problems you can avoid with monads you can read in <a href="https://philipnilsson.github.io/Badness10k/escaping-hell-with-monads/">“Escaping Hell with Monads”</a>.</p>
<p>So, which approach to choose? Hey, take both!</p>
<p>Seriously, you don’t have to give up one thing for another. I belive so. Think different. We must understand when to go which way. Understanding will help up to see clearly rather than roam blindly between functional and imperative worlds.</p>
<p>
  <a
    class="gatsby-resp-image-link"
    href="/static/functional-62ac35d6e5414ea2a60cda52eb3531c6-029df.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 44.38888888888889%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsSAAALEgHS3X78AAABoElEQVQoz31RTUsCURT1v/QHpE20iPYhuI4oCNoIriJXLaIWLSyUIJJKxcgiLUQJdFFZhuU4KqZDWGp+h41f44w6ztcbe+MUFUKHy+Pcyznv3fuuYvAvRBGMpvX8RQe/hkQxqh8G1EmQCTxLGYRslWVFOrSaCq79mAEAX/JfhnarmcYepWwwON/TxB8csEiUXZVHVTkT/POybCAaeBN/h6SYiZ/uaOxGDUUSUf/BpXm+2ahzvUr2SkklpqtJXS7lkcwcy4RvvTTdazdr5o0l5NpZyGB6rdJnXSCJWvo5dLw5mfDNJkMnAk8/BU254FwBO8ymvJLZZlzXqsfz+ZTHotepx6L3HvTWaVie2lmZwFAfhjrs2yqfbTFyZ6lXkFJEmwvMkKUjqW04mNO6e7a/VcMraMDtsmwW0onXhD/24L5xGcpvsY8S0sKz8YCpUX2h6uFW0UlT+WJ4qU93FHBUhmUZloc30X26z7Ly/J1er89wAxEIQOzSHEkS3W5H0jB8u01RZIPnGKltIAgwZI/07UMiDCHvVhB4WAZA/JZ8Lf8TB33XsttELBYAAAAASUVORK5CYII='); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"
        alt="functional"
        title=""
        src="/static/functional-62ac35d6e5414ea2a60cda52eb3531c6-fb8a0.png"
        srcset="/static/functional-62ac35d6e5414ea2a60cda52eb3531c6-1a291.png 148w,
/static/functional-62ac35d6e5414ea2a60cda52eb3531c6-2bc4a.png 295w,
/static/functional-62ac35d6e5414ea2a60cda52eb3531c6-fb8a0.png 590w,
/static/functional-62ac35d6e5414ea2a60cda52eb3531c6-526de.png 885w,
/static/functional-62ac35d6e5414ea2a60cda52eb3531c6-fa2eb.png 1180w,
/static/functional-62ac35d6e5414ea2a60cda52eb3531c6-08f6a.png 1770w,
/static/functional-62ac35d6e5414ea2a60cda52eb3531c6-029df.png 1800w"
        sizes="(max-width: 590px) 100vw, 590px"
      />
    </span>
  </span>
  
  </a>
    </p>
<h2 id="its-all-about-pure-functons"><a href="#its-all-about-pure-functons" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>It’s all about… pure functons?</h2>
<p>Now we know that monads can magically rewrite functions into powerfull constructions, which eliminate almost all issues with plain functions. But which properties allow them to do it?</p>
<p>Ok, first of all, list some of these issues, which can be a real pain in the ass, one more time:</p>
<ol>
<li>Functions can fail.</li>
<li>The value may be uncertain, when we are not sure if it exists at all.</li>
<li>The value can depend on a shared state.</li>
<li>Functions can produce effects.</li>
<li>Functions can be asyncronous, when the value exists in the future.</li>
<li>The function result can vary for the same input.</li>
</ol>
<p>What are common characteristics you see? We can’t reason about the result for sure. We need to know the state of the whole application to do it. You can never know how your program actually works. It is bad, it is very bad. </p>
<p>Can we invert this description? We want to be sure how the program works. We want to work with a part of an application in isolation to test it. We want to know, that every time, the function receives a result, it produces the same output. As you probably know, it is the definition of a pure function, which is ubiquitous in a functional programming.</p>
<p>I won’t write about what functional programming is, you can read it in <a href="https://maryrosecook.com/blog/post/a-practical-introduction-to-functional-programming">“A practical introduction to functional programming”</a> by Mary Rose Cook. We will talk about less discussed topic: what’s the purpose of the pure functions and functional programming in general. </p>
<p>Some say it is just a matter of style. If you think like that, then I strongly advise you to stop reading this nonsence and verify if you know all words from <a href="https://github.com/hemanth/functional-programming-jargon">here</a>. But if you love digging deeper, then follow me.</p>
<p>Since pure functions are tightly coupled with side effects, I’ll better explain what a side effect is.</p>
<div class="reddit-embed" data-embed-media="www.redditmedia.com" data-embed-parent="false" data-embed-live="false" data-embed-uuid="78f29787-e078-4498-9f85-c0151a78eaac" data-embed-created="2018-03-24T17:13:10.619Z"><a href="https://www.reddit.com/r/scala/comments/2898l1/functional_programming_what_are_side_effects/ci8p0bi/">Comment</a> from discussion <a href="https://www.reddit.com/r/scala/comments/2898l1/functional_programming_what_are_side_effects/">Functional Programming : What are side effects?</a>.</div>
<p>From the <a href="https://en.wikipedia.org/w/index.php?title=Side_effect_(computer_science)">Side effect (computer science) - Wikipedia</a>:</p>
<blockquote>
<p>Absence of side effects is a necessary, but not sufficient, condition for referential transparency. Referential transparency means that an expression (such as a function call) can be replaced with its value; this requires that the expression has no side effects and is pure (always returns the same results on the same input). A function without side effects may be impure, for example if its output depends on the value of a global variable.</p>
</blockquote>
<p>For example:</p>
<div class="gatsby-highlight">
      <pre class="language-scalascala"><code class="language-scalascala"><span class="token comment">// referential transparent function</span>
<span class="token keyword">def</span> sum<span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Int</span> <span class="token punctuation">{</span>
  a <span class="token operator">+</span> b
<span class="token punctuation">}</span>

sum<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">3</span> <span class="token comment">// true</span>

<span class="token comment">// function with side effect</span>
<span class="token keyword">def</span> sumIO<span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token punctuation">{</span>
  println<span class="token punctuation">(</span>a <span class="token operator">+</span> b<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

sumIO<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// false </span>
</code></pre>
      </div>
<p>Thus, <span class="underline"> a pure function can be with or without side effects </span>, but <a href="https://en.wikipedia.org/wiki/Pure_function">evaluation of the result does not cause any semantically observable side effect or output, such as mutation of mutable objects or output to I/O devices</a>. For example:</p>
<div class="gatsby-highlight">
      <pre class="language-scalascala"><code class="language-scalascala"><span class="token keyword">def</span> pureFunction<span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Int</span> <span class="token operator">=</span> <span class="token punctuation">{</span>

  <span class="token keyword">val</span> y <span class="token operator">=</span> Math<span class="token punctuation">.</span>rand<span class="token punctuation">(</span><span class="token punctuation">)</span>
  
  x
<span class="token punctuation">}</span>

pureFunction<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// always 2</span>
</code></pre>
      </div>
<p>And <span  class="underline"> a function without side effects can be impure.</span> For example:</p>
<div class="gatsby-highlight">
      <pre class="language-scalascala"><code class="language-scalascala"><span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">3</span>

<span class="token keyword">def</span> impureFunction<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  x
<span class="token punctuation">}</span>

impureFunction<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 3</span>

x <span class="token operator">+=</span> <span class="token number">1</span>

impureFunction<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 4</span>
</code></pre>
      </div>
<p>Functions with I/O operations still can be pure. And here we hit into monads. IO monads, to be precise. In Haskell side-effects don’t actually execute, they return values instead. In Scala it is not so, as Scala doesn’t support lazy evaluation by default. But we can emulate this behaviour ourself easily. We have to implement effectful function in such a way that it returns result, which can substitute the function itself.</p>
<div class="gatsby-highlight">
      <pre class="language-scalascala"><code class="language-scalascala"><span class="token comment">// IO monad</span>
<span class="token keyword">trait</span> IO<span class="token punctuation">[</span>A<span class="token punctuation">]</span><span class="token punctuation">{</span> <span class="token keyword">self</span> <span class="token keyword">=></span>

  <span class="token keyword">def</span> flatMap<span class="token punctuation">[</span>B<span class="token punctuation">]</span><span class="token punctuation">(</span>f<span class="token operator">:</span> A <span class="token keyword">=></span> IO<span class="token punctuation">[</span>B<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> IO<span class="token punctuation">[</span>B<span class="token punctuation">]</span> 

  <span class="token keyword">def</span> map<span class="token punctuation">[</span>B<span class="token punctuation">]</span><span class="token punctuation">(</span>f<span class="token operator">:</span> A <span class="token keyword">=></span> B<span class="token punctuation">)</span><span class="token operator">:</span> IO<span class="token punctuation">[</span>B<span class="token punctuation">]</span> <span class="token operator">=</span> 
      IO<span class="token punctuation">{</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">=></span> f<span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">.</span>pure<span class="token punctuation">)</span> <span class="token punctuation">}</span>

  <span class="token keyword">def</span> pure<span class="token operator">:</span> A

<span class="token punctuation">}</span>
<span class="token keyword">object</span> IO<span class="token punctuation">{</span>

  <span class="token comment">// f - is a function with effects</span>
  <span class="token keyword">def</span> apply<span class="token punctuation">[</span>A<span class="token punctuation">]</span><span class="token punctuation">(</span>f<span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">=></span> A<span class="token punctuation">)</span><span class="token operator">:</span> IO<span class="token punctuation">[</span>A<span class="token punctuation">]</span> <span class="token operator">=</span> 
    <span class="token keyword">new</span> IO<span class="token punctuation">{</span>
    
      <span class="token comment">// We do not actually execute effectful functions, </span>
      <span class="token comment">// we compose them instead</span>
      <span class="token keyword">override</span> <span class="token keyword">def</span> flatMap<span class="token punctuation">[</span>B<span class="token punctuation">]</span><span class="token punctuation">(</span>g<span class="token operator">:</span> A <span class="token keyword">=></span> IO<span class="token punctuation">[</span>B<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> IO<span class="token punctuation">[</span>B<span class="token punctuation">]</span> <span class="token operator">=</span>
        IO<span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">=></span> g<span class="token punctuation">(</span>f<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>pure<span class="token punctuation">}</span>
      
      <span class="token comment">// Actual execution</span>
      <span class="token keyword">override</span> <span class="token keyword">def</span> pure<span class="token operator">:</span> A <span class="token operator">=</span> 
        f<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

<span class="token comment">// Now the funtion is referential transparent</span>
<span class="token keyword">def</span> sum<span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span><span class="token operator">:</span> IO<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>
  IO<span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">=></span> println<span class="token punctuation">(</span>a <span class="token operator">+</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span> a <span class="token operator">+</span> b<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

sum<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span>flatMap<span class="token punctuation">(</span>a <span class="token keyword">=></span> IO<span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">=></span> a <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// returns IO{() => println(3); 6}</span>
</code></pre>
      </div>
<p>It may seem, that all monads must be pure, as such is in Haskell. Be careful. Take into consideration that nothing is obvious in Scala. For example, Option is a monad and in Scala it is implemented something like this:</p>
<div class="gatsby-highlight">
      <pre class="language-scalascala"><code class="language-scalascala"><span class="token keyword">sealed</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> Option<span class="token punctuation">[</span><span class="token operator">+</span>A<span class="token punctuation">]</span> <span class="token punctuation">{</span>
  <span class="token keyword">def</span> get<span class="token operator">:</span> A

  <span class="token keyword">def</span> map<span class="token punctuation">[</span>B<span class="token punctuation">]</span><span class="token punctuation">(</span>f<span class="token operator">:</span> A <span class="token keyword">=></span> B<span class="token punctuation">)</span><span class="token operator">:</span> Option<span class="token punctuation">[</span>B<span class="token punctuation">]</span> <span class="token operator">=</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>isEmpty<span class="token punctuation">)</span> None <span class="token keyword">else</span> Some<span class="token punctuation">(</span>f<span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>get<span class="token punctuation">)</span><span class="token punctuation">)</span>

  <span class="token keyword">def</span> flatMap<span class="token punctuation">[</span>B<span class="token punctuation">]</span><span class="token punctuation">(</span>f<span class="token operator">:</span> A <span class="token keyword">=></span> Option<span class="token punctuation">[</span>B<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> Option<span class="token punctuation">[</span>B<span class="token punctuation">]</span> <span class="token operator">=</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>isEmpty<span class="token punctuation">)</span> None <span class="token keyword">else</span> f<span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>get<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">object</span> Option <span class="token punctuation">{</span>

  <span class="token keyword">def</span> apply<span class="token punctuation">[</span>A<span class="token punctuation">]</span><span class="token punctuation">(</span>x<span class="token operator">:</span> A<span class="token punctuation">)</span><span class="token operator">:</span> Option<span class="token punctuation">[</span>A<span class="token punctuation">]</span> <span class="token operator">=</span> 
    <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> None <span class="token keyword">else</span> Some<span class="token punctuation">(</span>x<span class="token punctuation">)</span>
    
<span class="token punctuation">}</span>

<span class="token keyword">case</span> <span class="token keyword">class</span> Some<span class="token punctuation">[</span><span class="token operator">+</span>A<span class="token punctuation">]</span><span class="token punctuation">(</span>value<span class="token operator">:</span> A<span class="token punctuation">)</span> <span class="token keyword">extends</span> Option<span class="token punctuation">[</span>A<span class="token punctuation">]</span> <span class="token punctuation">{</span>
  <span class="token keyword">def</span> get <span class="token operator">=</span> value
<span class="token punctuation">}</span>

<span class="token keyword">case</span> <span class="token keyword">object</span> None <span class="token keyword">extends</span> Option<span class="token punctuation">[</span><span class="token builtin">Nothing</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>
  <span class="token keyword">def</span> get <span class="token operator">=</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> NoSuchElementException<span class="token punctuation">(</span><span class="token string">"None.get"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
      </div>
<p>See anything misleading? Look at flatMap attentively. It is not lazy, it executes. What does it mean? That we can’t safely implement effectful operations with it. And if you type Option(println(4)), 4 will be outputed to the console.</p>
<div class="gatsby-highlight">
      <pre class="language-scalascala"><code class="language-scalascala">Option<span class="token punctuation">(</span>println<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// prints 4</span>
</code></pre>
      </div>
<p>Same with Future, List, Try and other monads in Scala. So, <span  class="underline"> while monads in scala still abide monad laws, they can’t be considered pure. </span> So, functional programming is about pure functions and side effects, but monads are completely orthogonal concepts.</p>
<p>So, while monads are not about purity, they still can help us with the issues we listed in the beginning of the section.</p>
<ol>
<li>Functions can fail. - Option/Try/Either monad.</li>
<li>The value may be uncertain, when we are not sure if it exists at all. - Maybe monad.</li>
<li>The value can depend on a shared state. - State monad.</li>
<li>Functions can produce effects. - IO monad.</li>
<li>Functions can be asyncronous, when the value exists in the future. - Future/Promise monad.</li>
<li>The function result can vary for the same input. - Random monad.</li>
<li>The value may exists, but there are more than one of them. - List monad.</li>
</ol>
<p>!!!We have to compose and it is hard.</p>
<p>
  <a
    class="gatsby-resp-image-link"
    href="/static/Optimus_Prime-d2b972c3627279b0ed459eb6af9b1f26-c86e7.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 128.85496183206106%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAaCAYAAAC3g3x9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAGKklEQVRIx4VVe2xTZRS/ezCCY8AefW1d27X33r5vb9vbdr1rb29fW9etXRkbzR7tXmyjjPdTCSIEZAEUWCSgSJQEoyRqCG8EYlDUGP8wKoRAfCRADCKQGAygY+ux9+6hCxC/f87p7/vOr7/vfOeci7y8aQ2ya+tChFtvvrZCsHtLv27n5v5ZyHMWACBsKMj7q2PRSXxtS/zfQ0va5yL5AiNy8ehg9itrk+iewaXte7cv0N788fSsG1dO4NUsKRncvGl5Z+/KUOb4dC5m5aJFuUhtCx8/NDAmyOPxjP0jt8pzXsia8Lk1/OiPxVev3L62bev2h5s2LLs7uHUQSGfg98aubsN/FXfUhoiMybr0/pExILGgvWDVuiU05xfOyc3m7PXLPwxeOnMcmmJxIAgHvLi6H2gnNTpbIAYHwz5cvGjRyUN732hoikQ7mykzR4ioC2fmsjYrH4901ld/8FJrvIrzDw4dXn744Ltpu80/6vW2PsEwLN0Yaxj1ef1pC+NPCyr0wAbDkGiOQ119dNhgtZ5CNbr2KYlu8LJDIacLXL5QU7gm1kcYNb8RBJVRZxsxGtTp5nCGIBhJO73V4GaTozhO/1VUXDxCO+mrWpIEOYr+6mVcBxxazM8TzotFhnClApys+3akvu6sSiEBP0MN67ByQFWl4Kkk07UBHxhsjrSDotMkZgICw0Aslt5XZqyZNPW59RqTCVUEuEfJmRt2f1chK4HmxkA6tbALcFT2wGoxOzy0/aDNjIOF1IxqtfhosVgCmTCIJzrX0w77Mb0OB7Uae2AiSOXkdc+f2FNAqBX3cVExtDQwT7o6GsFo0t7LbM3k9qtZ+xGJaDaUCAqHpRUKUCmVOzi8ksRm6jWqV120tY77bdXhOYRSls0pnO4gNdcdKhmggoJhilIDSaiPjxfxdJ0W/xjHy0Fn1IzorRaQKVRt4xU+KQpFlVmcNZLmMWBw48pD82sZkIpmP6YrdRANuj7i8LffOiXpSA7cDXopEErtIwqDHzSEG2g2GOIJCNO0zKNlTxB7PMxEOz0ydLU1/EkRpaDFy9IkoQFnJa5pb+3sX5BohbZky8gssRVmFpqHpZgbCIf7Qy5OqSeyGa+X53A5x+u9py2Uw9mNa3ri9X4DCEuKoKxU8pCpolzJePSc0YACpicfV2hdD4uKFCOokQU5rv+Mi5kuQbNcDDu12ZtDTt4OxOh8j013QyYVg1ZRtiuTvzwvbb2F4ihoCfKWQCD/Sq1CgXL6weVxf8nFiCqUWRbKNZUwGWUm/WqaOKPHZWAm8J1cX0dq2F+qKs1gslpXGPVEvLcr8QDTGMDm8p7hFeYXZD81juooHdLbXs9feyARHQx6rDAjD2lK9S1baiRrwGi2glqvYFOpgeLaoO0bVUZxfhF5DdPUFXIxEpk76ynSVPc8nnD10kQ0FmGHQ9U2bXfHgksY5gSZUnuS26sJx6VzCkseCMVykKHsnXKMFnG4WGabShjLvI6nysr7TsoojISZ3nUrB9b3dnQAYTRBqbzyZt4MT0FDpHFzicAAuM4KqIbazp03mIw5zxvESIh1T/rrVy0525OMgkikzPSr846FsIuVctXVsmIcyqVa0JMKfjLhOiyTQ+zZhH2tzbx0WV52YaoncY/xVUG5CAeZ0LyGv1qR4FNThQE0+sq/hRhh4zC5jsp2eUPP/k44LAb+xXoSLW3RaAhYrx/MavqyvWh2PoerxAJbwMk+drNRIKrYAIdRnrEaLpEEphJ+fuHYBHHWlg1rv/ayHrDbfD/t3rqvbOLM0WP7hTE/c4/UkVA3r3sXh1WobdPUxmZ+XyyvGjt44ZMTyIurunn/+ytDuctTHd+6aR/Y2Yb3OMxdFcjjP2Sp+ZFwoBJwDZa2OHy387PkkyNLKPVMVehhaD5/Dqe+LBwM/2wxWzIDgDk9vs2norez+WQo6AahqAgqtEZQ6nyPZpVYlqhJ3wy+a2TOcYXnTiID/d25nL9h3dJtnckUYCY3uAOhi6XlsrzxVOQ47GSnjSIOSMul+zSkbX+gKXlKilu/UOodNXyBq8ixejx/4Qyyaf0KXsXBfa/X9/X1vEMyNWt2DO3iB+zA6o3I/6487aT7D4+4C/lpZUNUAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"
        alt="Transformer"
        title=""
        src="/static/Optimus_Prime-d2b972c3627279b0ed459eb6af9b1f26-fb8a0.png"
        srcset="/static/Optimus_Prime-d2b972c3627279b0ed459eb6af9b1f26-1a291.png 148w,
/static/Optimus_Prime-d2b972c3627279b0ed459eb6af9b1f26-2bc4a.png 295w,
/static/Optimus_Prime-d2b972c3627279b0ed459eb6af9b1f26-fb8a0.png 590w,
/static/Optimus_Prime-d2b972c3627279b0ed459eb6af9b1f26-c86e7.png 655w"
        sizes="(max-width: 590px) 100vw, 590px"
      />
    </span>
  </span>
  
  </a>
    </p>
<h2 id="monad-transformers"><a href="#monad-transformers" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Monad Transformers</h2>
<p>Again, I won’t explain, what monad transformers are. You can find answers in a nice article <a href="https://blog.buildo.io/monad-transformers-for-the-working-programmer-aa7e981190e7">Monad Transformers for the working programmer</a> by Gabriele Petronella.</p>
<p>The main inference from it is that <a href="http://blog.tmorris.net/posts/monads-do-not-compose/">monads do not compose</a>. For their composition you need monad transformers. Example:</p>
<div class="gatsby-highlight">
      <pre class="language-scalascala"><code class="language-scalascala"><span class="token keyword">def</span> getUserFromDB<span class="token punctuation">(</span>id<span class="token operator">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span><span class="token operator">:</span> Future<span class="token punctuation">[</span>User<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">?</span><span class="token operator">?</span><span class="token operator">?</span>
<span class="token keyword">def</span> getOrderFromDB<span class="token punctuation">(</span>user<span class="token operator">:</span> User<span class="token punctuation">)</span><span class="token operator">:</span> Future<span class="token punctuation">[</span>Order<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">?</span><span class="token operator">?</span><span class="token operator">?</span>

<span class="token keyword">def</span> findOrderByUserID<span class="token punctuation">(</span>id<span class="token operator">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span><span class="token operator">:</span> Future<span class="token punctuation">[</span>Order<span class="token punctuation">]</span> <span class="token operator">=</span>
  <span class="token keyword">for</span> <span class="token punctuation">{</span>
    user    <span class="token keyword">&lt;-</span> getUserFromDB<span class="token punctuation">(</span>id<span class="token punctuation">)</span>
    order <span class="token keyword">&lt;-</span> getOrderFromDB<span class="token punctuation">(</span>user<span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">yield</span> order
  
</code></pre>
      </div>
<p>What if we don’t know if we have any orders?</p>
<div class="gatsby-highlight">
      <pre class="language-scalascala"><code class="language-scalascala"><span class="token keyword">def</span> getUserFromDB<span class="token punctuation">(</span>id<span class="token operator">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span><span class="token operator">:</span> Future<span class="token punctuation">[</span>User<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">?</span><span class="token operator">?</span><span class="token operator">?</span>
<span class="token keyword">def</span> getOrderFromDB<span class="token punctuation">(</span>user<span class="token operator">:</span> User<span class="token punctuation">)</span><span class="token operator">:</span> Future<span class="token punctuation">[</span>Option<span class="token punctuation">[</span>Order<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">?</span><span class="token operator">?</span><span class="token operator">?</span>

<span class="token keyword">def</span> findOrderByUserID<span class="token punctuation">(</span>id<span class="token operator">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span><span class="token operator">:</span> Future<span class="token punctuation">[</span>Order<span class="token punctuation">]</span> <span class="token operator">=</span>
  <span class="token keyword">for</span> <span class="token punctuation">{</span>
    user  <span class="token keyword">&lt;-</span> getUserFromDB<span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token comment">// Future[User]</span>
    order <span class="token keyword">&lt;-</span> getOrderFromDB<span class="token punctuation">(</span>user<span class="token punctuation">)</span> <span class="token comment">// Future[Option[Order]]</span>
  <span class="token punctuation">}</span> <span class="token keyword">yield</span> order
  
<span class="token comment">// Type error. Nothing like we expected.</span>
</code></pre>
      </div>
<p>But we can use a monad transformer! </p>
<div class="gatsby-highlight">
      <pre class="language-scalascala"><code class="language-scalascala"><span class="token keyword">import</span> cats<span class="token punctuation">.</span>data<span class="token punctuation">.</span>OptionT<span class="token punctuation">,</span> cats<span class="token punctuation">.</span>std<span class="token punctuation">.</span>future<span class="token punctuation">.</span>_
<span class="token keyword">def</span> findOrderByUserID<span class="token punctuation">(</span>id<span class="token operator">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span><span class="token operator">:</span> Future<span class="token punctuation">[</span>Option<span class="token punctuation">[</span>Order<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span>
  <span class="token punctuation">(</span><span class="token keyword">for</span> <span class="token punctuation">{</span>
    user    <span class="token keyword">&lt;-</span> OptionT<span class="token punctuation">(</span>getUserFromDB<span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span>
    order <span class="token keyword">&lt;-</span> OptionT<span class="token punctuation">(</span>getOrderFromDB<span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">yield</span> order<span class="token punctuation">)</span><span class="token punctuation">.</span>value
</code></pre>
      </div>
<p>Great, now we are safe! Heh, not even close. When you enter the world of monad transformers, there is no way back. There exists a whole <a href="http://github.com/haskell/mtl/tree/master/Control/Monad">“mtl” library</a> for them in Haskell. Haven’t seen anything like that in Scala though. And John A De Goes wrote a great article, which named <a href="http://degoes.net/articles/only-one-io">There Can Be Only One…IO Monad</a>, leverage issues which occure, when we need to compose several monads together. </p>
<p>So, monad transformers are, literally, just monads wrapping other monads, which help us to compose monads. Nothing more.</p>
<p>!!! Problems with mtl: effects when combine monads, many monads.</p>
<p>Due to several problems, which accompany monad transformers, people introduced other approaches, such as Eff monad <a href="ttps://rubenpieters.github.io/monadtransformer/cats/eff/2017/01/27/monadtransformer-vs-effmonad-1.html">“From Monad Transformers to the Eff Monad”</a>, Extensible effects <a href="https://www.cs.indiana.edu/~sabry/papers/exteff.pdf">“Extensible Effects An Alternative to Monad Transformers”</a> by Oleg Kiselyov, Algebraic effects <a href="http://www.eff-lang.org/handlers-tutorial.pdf">An Introduction to Algebraic Effects and Handlers</a>.</p>
<p>!!!When we compose, it is overhead, because we can’t use fusion.
!!! All of the problems can be solved in an imperative approach.
JavaScript leverage it’s single thread model to write in an imperative style</p>
<p>So, it is necessarily to write in monadic style? No. Can we write it in imperative way? Yes. </p>
<p>clumsy</p></aside><div title="What are they, monads, angels or demons?" data-reactid="101"><div id="disqus_thread" data-reactid="102"></div><noscript data-reactid="103"><span data-reactid="104"><!-- react-text: 105 -->Please enable JavaScript to view the<!-- /react-text --><a href="http://disqus.com/?ref_noscript" data-reactid="106">comments powered by Disqus.</a></span></noscript><a href="http://disqus.com" class="dsq-brlink" data-reactid="107"><!-- react-text: 108 -->Blog comments powered by <!-- /react-text --><span class="logo-disqus" data-reactid="109">Disqus</span><!-- react-text: 110 -->.<!-- /react-text --></a></div></div></div><div class="footer__Footer-s1qp0f72-0 kIDVgZ" data-reactid="111"><div class="socialButtons__Buttons-g3vte5-1 ffvIap" data-reactid="112"><div class="jss1341" data-reactid="113"><a class="socialButtons__Link-g3vte5-0 gaJzCe" href="https://github.com/garrynsk" aria-describedby="tooltip-top" data-reactid="114"><svg fill="currentColor" preserveAspectRatio="xMidYMid meet" height="1em" width="1em" viewBox="0 0 40 40" style="vertical-align:middle;" data-reactid="115"><g data-reactid="116"><path d="m14.6 26.8q0.1-0.1-0.1-0.3-0.2-0.2-0.3 0-0.1 0.1 0.1 0.2 0.2 0.2 0.3 0.1z m-0.6-0.9q-0.2-0.2-0.3-0.1-0.1 0.1 0 0.3 0.1 0.1 0.3 0.1 0.1-0.1 0-0.3z m-1-0.9q0.1-0.1-0.1-0.2-0.1 0-0.1 0-0.1 0.2 0 0.2 0.2 0.1 0.2 0z m0.5 0.5q0.1 0 0-0.1t0-0.1q-0.2-0.2-0.3-0.1t0.1 0.3q0.1 0.1 0.2 0z m1.9 1.7q0.1-0.2-0.2-0.3-0.2 0-0.3 0.1 0 0.2 0.2 0.3 0.2 0 0.3-0.1z m1 0q0-0.1-0.3-0.1-0.2 0-0.2 0.1t0.2 0.2 0.3-0.2z m0.8-0.1q0-0.2-0.2-0.1t-0.2 0.2q0 0.1 0.2 0.1t0.2-0.2z m14.4-7.1q0-4.7-3.4-8.1t-8.1-3.3-8 3.3-3.4 8.1q0 3.7 2.2 6.7t5.6 4.1q0.4 0.1 0.6-0.1t0.2-0.4q0-1.2 0-2.1-0.1 0-0.4 0t-0.8 0.1-1-0.1-1-0.5-0.7-0.9q-0.5-1.3-1.2-1.6-0.1-0.1-0.1-0.1l-0.2-0.2-0.2-0.2 0.1-0.2 0.5-0.1q0.1 0 0.3 0.1t0.7 0.3 0.7 0.8q0.4 0.7 0.8 1t1 0.3 0.9-0.1 0.6-0.2q0.2-1.1 0.8-1.6-1.1-0.1-1.9-0.4t-1.7-0.8-1.2-1.7-0.5-2.7q0-1.8 1.2-3.1-0.5-1.3 0.1-3 0.5-0.1 1.3 0.2t1.3 0.6l0.6 0.4q1.3-0.4 2.8-0.4t2.9 0.4q0.3-0.2 0.6-0.4t1.3-0.6 1.3-0.2q0.6 1.7 0.1 3 1.1 1.3 1.1 3.1 0 1.3-0.3 2.2t-0.8 1.6-1.2 1-1.3 0.6-1.6 0.2q0.8 0.7 0.8 2.2 0 0.9 0 2t0 1.1q0 0.3 0.2 0.4t0.6 0.1q3.4-1.1 5.6-4.1t2.2-6.7z m5.7-10.7v21.4q0 2.7-1.9 4.6t-4.5 1.8h-21.5q-2.6 0-4.5-1.8t-1.9-4.6v-21.4q0-2.7 1.9-4.6t4.5-1.8h21.5q2.6 0 4.5 1.8t1.9 4.6z" data-reactid="117"></path></g></svg></a><div style="position:absolute;pointer-events:none;opacity:0;top:0;left:0;" class="jss1342 jss1343" data-reactid="118"><div id="tooltip-top" role="tooltip" aria-hidden="true" class="jss1344 jss1347" data-reactid="119">Me on GitHub</div></div></div><div class="jss1341" data-reactid="120"><a class="socialButtons__Link-g3vte5-0 gaJzCe" href="https://twitter.com/zakharovavi" aria-describedby="tooltip-top" data-reactid="121"><svg fill="currentColor" preserveAspectRatio="xMidYMid meet" height="1em" width="1em" viewBox="0 0 40 40" style="vertical-align:middle;" data-reactid="122"><g data-reactid="123"><path d="m31.6 13.6q-1.3 0.6-2.7 0.8 1.5-0.9 2-2.6-1.4 0.8-2.9 1.1-1.4-1.5-3.5-1.5-1.9 0-3.3 1.4t-1.3 3.3q0 0.7 0.1 1.1-2.9-0.2-5.4-1.5t-4.3-3.4q-0.7 1.1-0.7 2.3 0 2.6 2.1 3.9-1.1 0-2.3-0.5v0q0 1.7 1.1 3t2.8 1.6q-0.7 0.2-1.1 0.2-0.3 0-0.9-0.1 0.4 1.4 1.6 2.3t2.8 1q-2.6 2-5.9 2-0.6 0-1.1-0.1 3.3 2.1 7.2 2.1 2.5 0 4.7-0.8t3.7-2.1 2.7-3.1 1.7-3.6 0.5-3.7q0-0.4 0-0.7 1.4-1 2.4-2.4z m5.7-4.3v21.4q0 2.7-1.9 4.6t-4.5 1.8h-21.5q-2.6 0-4.5-1.8t-1.9-4.6v-21.4q0-2.7 1.9-4.6t4.5-1.8h21.5q2.6 0 4.5 1.8t1.9 4.6z" data-reactid="124"></path></g></svg></a><div style="position:absolute;pointer-events:none;opacity:0;top:0;left:0;" class="jss1342 jss1343" data-reactid="125"><div id="tooltip-top" role="tooltip" aria-hidden="true" class="jss1344 jss1347" data-reactid="126">Me on Twitter</div></div></div><div class="jss1341" data-reactid="127"><a class="socialButtons__Link-g3vte5-0 gaJzCe" href="https://victoriaz.netlify.com/" aria-describedby="tooltip-top" data-reactid="128"><svg fill="currentColor" preserveAspectRatio="xMidYMid meet" height="1em" width="1em" viewBox="0 0 40 40" style="vertical-align:middle;" data-reactid="129"><g data-reactid="130"><path d="m8.3 31.6h5.1v-15.5h-5.1v15.5z m5.5-20.3q0-1.2-0.8-1.9t-2.1-0.8-2.1 0.8-0.8 1.9q0 1.1 0.8 1.9t2 0.8h0.1q1.3 0 2.1-0.8t0.8-1.9z m13 20.3h5.2v-8.9q0-3.5-1.6-5.2t-4.3-1.8q-3.1 0-4.7 2.6h0v-2.2h-5.1q0 1.4 0 15.5h5.1v-8.7q0-0.8 0.2-1.2 0.3-0.8 1-1.4t1.7-0.5q2.5 0 2.5 3.5v8.3z m10.5-22.3v21.4q0 2.7-1.9 4.6t-4.5 1.8h-21.5q-2.6 0-4.5-1.8t-1.9-4.6v-21.4q0-2.7 1.9-4.6t4.5-1.8h21.5q2.6 0 4.5 1.8t1.9 4.6z" data-reactid="131"></path></g></svg></a><div style="position:absolute;pointer-events:none;opacity:0;top:0;left:0;" class="jss1342 jss1343" data-reactid="132"><div id="tooltip-top" role="tooltip" aria-hidden="true" class="jss1344 jss1347" data-reactid="133">Me on Linkedn</div></div></div><div class="jss1341" data-reactid="134"><a class="socialButtons__Link-g3vte5-0 gaJzCe" href="https://www.facebook.com/nitrographceo" aria-describedby="tooltip-top" data-reactid="135"><svg fill="currentColor" preserveAspectRatio="xMidYMid meet" height="1em" width="1em" viewBox="0 0 40 40" style="vertical-align:middle;" data-reactid="136"><g data-reactid="137"><path d="m30.9 2.9q2.6 0 4.5 1.8t1.9 4.6v21.4q0 2.7-1.9 4.6t-4.5 1.8h-4.2v-13.2h4.4l0.7-5.2h-5.1v-3.3q0-1.3 0.5-1.9t2-0.6l2.8 0v-4.7q-1.5-0.2-4-0.2-3.1 0-4.9 1.8t-1.8 5.1v3.8h-4.5v5.2h4.5v13.2h-11.9q-2.6 0-4.5-1.8t-1.9-4.6v-21.4q0-2.7 1.9-4.6t4.5-1.8h21.5z" data-reactid="138"></path></g></svg></a><div style="position:absolute;pointer-events:none;opacity:0;top:0;left:0;" class="jss1342 jss1343" data-reactid="139"><div id="tooltip-top" role="tooltip" aria-hidden="true" class="jss1344 jss1347" data-reactid="140">Me on Facebook</div></div></div></div><div class="navigationBottom__Navigation-s1pr7f43-0 dXfriP" data-reactid="141"><div class="jss1350" data-reactid="142"><a class="navigationBottom__NavButton-s1pr7f43-1 jfwhYI" value="0" href="/" data-reactid="143"><button tabindex="0" class="jss1287 jss1351" type="button" aria-label="Home" value="/" data-reactid="144"><span class="jss1356" data-reactid="145"><svg class="jss1357" focusable="false" viewBox="0 0 24 24" aria-hidden="true" data-reactid="146"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z" data-reactid="147"></path></svg></span><span class="jss1290" data-reactid="148"></span></button></a><a class="navigationBottom__NavButton-s1pr7f43-1 jfwhYI" value="1" href="/about" data-reactid="149"><button tabindex="0" class="jss1287 jss1351" type="button" aria-label="About" value="/about" data-reactid="150"><span class="jss1356" data-reactid="151"><svg class="jss1357" focusable="false" viewBox="0 0 24 24" aria-hidden="true" data-reactid="152"><path d="M9 11.75c-.69 0-1.25.56-1.25 1.25s.56 1.25 1.25 1.25 1.25-.56 1.25-1.25-.56-1.25-1.25-1.25zm6 0c-.69 0-1.25.56-1.25 1.25s.56 1.25 1.25 1.25 1.25-.56 1.25-1.25-.56-1.25-1.25-1.25zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8 0-.29.02-.58.05-.86 2.36-1.05 4.23-2.98 5.21-5.37C11.07 8.33 14.05 10 17.42 10c.78 0 1.53-.09 2.25-.26.21.71.33 1.47.33 2.26 0 4.41-3.59 8-8 8z" data-reactid="153"></path></svg></span><span class="jss1290" data-reactid="154"></span></button></a><a class="navigationBottom__NavButton-s1pr7f43-1 jfwhYI" value="2" href="/tags" data-reactid="155"><button tabindex="0" class="jss1287 jss1351" type="button" aria-label="Tags" value="/tags" data-reactid="156"><span class="jss1356" data-reactid="157"><svg class="jss1357" focusable="false" viewBox="0 0 24 24" aria-hidden="true" data-reactid="158"><path d="M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2z" data-reactid="159"></path></svg></span><span class="jss1290" data-reactid="160"></span></button></a><a class="navigationBottom__NavButton-s1pr7f43-1 jfwhYI" value="3" href="/repositories" data-reactid="161"><button tabindex="0" class="jss1287 jss1351" type="button" aria-label="Repositories" value="/repositories" data-reactid="162"><span class="jss1356" data-reactid="163"><svg class="jss1357" focusable="false" viewBox="0 0 24 24" aria-hidden="true" data-reactid="164"><path d="M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z" data-reactid="165"></path></svg></span><span class="jss1290" data-reactid="166"></span></button></a></div></div></div></div></div></div><script id="webpack-manifest">/*<![CDATA[*/window.webpackManifest={"231608221292675":"app-ca0dea81e8e035d87309.js","99219681209289":"component---node-modules-gatsby-plugin-offline-app-shell-js-5c4c5a0f7af9dc69d6d7.js","178469467687848":"component---src-pages-404-tsx-c3f1179ef31e3033d235.js","147894599050189":"component---src-pages-about-tsx-4a239d3523029185152d.js","221374088121123":"component---src-pages-index-tsx-88dde38988f14b871ef5.js","183170472236854":"component---src-pages-repositories-tsx-37dfd866aca28318d695.js","88133074308889":"component---src-pages-tags-tsx-12e9bb77d1cf271b90c9.js","30862416422887":"component---src-templates-post-tsx-c8f66be2f50942207738.js","268655982550610":"component---src-templates-tags-tsx-fe121a48e0424f9eb760.js","60335399758886":"path----d3e644d3ebd31218a805.js","210333531512890":"path---offline-plugin-app-shell-fallback-a0e39f21c11f6a62c5ab.js","254022195166212":"path---404-a0e39f21c11f6a62c5ab.js","273950069227526":"path---about-7a621110360ebafb502e.js","142629428675168":"path---index-7b7568fd0abac8f7dc7f.js","207787986173859":"path---repositories-44bfeef05df2f0f01bd6.js","55702396619907":"path---tags-9d396a1265c25d77a34a.js","178698757827068":"path---404-html-a0e39f21c11f6a62c5ab.js","229356351917441":"path---non-blocking-queue-e93ad41bed3593e2198a.js","137338694918600":"path---mock-article-0386831568d867b5811f.js","170358752846131":"path---monads-491a7b4ca49db633d985.js","209885067577634":"path---tags-non-blocking-bcd612996248850c70b4.js","79465324930463":"path---tags-queue-0d0790c422e7001f767f.js","247966473797167":"path---tags-scala-18c895b4a9a2822ff0e3.js","242698867188406":"path---tags-random-248e6c7d20ccdc2f3a81.js","197519439810120":"path---tags-monads-5e6d8d9430811a4e5601.js","22676092666560":"component---src-layouts-index-tsx-586e24d071056c67630d.js"}/*]]>*/</script><script>
          window.twttr = (function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0],
    t = window.twttr || {};
  if (d.getElementById(id)) return t;
  js = d.createElement(s);
  js.id = id;
  js.src = "https://platform.twitter.com/widgets.js";
  fjs.parentNode.insertBefore(js, fjs);

  t._e = [];
  t.ready = function(f) {
    t._e.push(f);
  };

  return t;
}(document, "script", "twitter-wjs"));
      </script><script>
  function gaOptout(){document.cookie=disableStr+'=true; expires=Thu, 31 Dec 2099 23:59:59 UTC;path=/',window[disableStr]=!0}var gaProperty='UA-116706361-1',disableStr='ga-disable-'+gaProperty;document.cookie.indexOf(disableStr+'=true')>-1&&(window[disableStr]=!0);
  if(!(navigator.doNotTrack == "1" || window.doNotTrack == "1")) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-116706361-1', 'auto');
      ga('set', 'anonymizeIp', 1);}
      </script><script>window.fbAsyncInit = function() {
  FB.init({
    appId      : 2021718294759147,
    xfbml      : true,
    version    : 'v2.12'
  });

  FB.AppEvents.logPageView();

};

(function(d, s, id){
   var js, fjs = d.getElementsByTagName(s)[0];
   if (d.getElementById(id)) {return;}
   js = d.createElement(s); js.id = id;
   js.src = "https://connect.facebook.net/en_US/sdk.js";
   fjs.parentNode.insertBefore(js, fjs);
 }(document, 'script', 'facebook-jssdk'));</script><script>/*<![CDATA[*/!function(e,t,r){function n(){for(;d[0]&&"loaded"==d[0][f];)c=d.shift(),c[o]=!i.parentNode.insertBefore(c,i)}for(var s,a,c,d=[],i=e.scripts[0],o="onreadystatechange",f="readyState";s=r.shift();)a=e.createElement(t),"async"in i?(a.async=!1,e.head.appendChild(a)):i[f]?(d.push(a),a[o]=n):e.write("<"+t+' src="'+s+'" defer></'+t+">"),a.src=s}(document,"script",["/commons-a4508e8b006a525c8fb0.js","/app-ca0dea81e8e035d87309.js","/path---monads-491a7b4ca49db633d985.js","/component---src-templates-post-tsx-c8f66be2f50942207738.js","/component---src-layouts-index-tsx-586e24d071056c67630d.js"])/*]]>*/</script></body></html>